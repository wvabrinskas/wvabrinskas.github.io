{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/numerics\/algebraicfield\/reciprocal-6sp2m"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-6sp2m"},"kind":"symbol","hierarchy":{"paths":[["doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics","doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField"]]},"metadata":{"title":"reciprocal","extendedModule":"RealModule","externalID":"s:10RealModule14AlgebraicFieldPAAE10reciprocalxSgvp","symbolKind":"property","modules":[{"name":"RealModule"}],"roleHeading":"Instance Property","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"?"}],"role":"symbol"},"sections":[],"abstract":[{"text":"The (approximate) reciprocal (multiplicative inverse) of this number,","type":"text"},{"type":"text","text":" "},{"text":"if it is representable.","type":"text"}],"primaryContentSections":[{"declarations":[{"platforms":["macOS"],"tokens":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"reciprocal","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Self","kind":"typeIdentifier"},{"text":"? { ","kind":"text"},{"text":"get","kind":"keyword"},{"text":" }","kind":"text"}],"languages":["swift"]}],"kind":"declarations"},{"content":[{"type":"heading","text":"Discussion","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If reciprocal is non-nil, you can replace division by self with"},{"type":"text","text":" "},{"type":"text","text":"multiplication by reciprocal and either get exact the same result"},{"type":"text","text":" "},{"type":"text","text":"(for finite fields) or approximately the same result up to a typical"},{"type":"text","text":" "},{"type":"text","text":"rounding error (for floating-point formats)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If self is zero and the type has no representation for infinity (as"},{"type":"text","text":" "},{"type":"text","text":"in a typical finite field implementation), or if a reciprocal would"},{"type":"text","text":" "},{"type":"text","text":"overflow or underflow such that it cannot be accurately represented,"},{"type":"text","text":" "},{"type":"text","text":"the result is nil."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that "},{"type":"codeVoice","code":".zero.reciprocal"},{"type":"text","text":", somewhat surprisingly, is "},{"inlineContent":[{"text":"not","type":"text"}],"type":"emphasis"},{"type":"text","text":" nil"},{"type":"text","text":" "},{"type":"text","text":"for "},{"type":"codeVoice","code":"Real"},{"type":"text","text":" or "},{"type":"codeVoice","code":"Complex"},{"type":"text","text":" types, because these types have an"},{"type":"text","text":" "},{"type":"codeVoice","code":".infinity"},{"type":"text","text":" value that acts as the reciprocal of "},{"type":"codeVoice","code":".zero"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"If ","type":"text"},{"code":"b.reciprocal","type":"codeVoice"},{"text":" is non-nil, you may be able to replace division by ","type":"text"},{"code":"b","type":"codeVoice"},{"text":" ","type":"text"},{"text":"with multiplication by this value. It is not advantageous to do this","type":"text"},{"text":" ","type":"text"},{"text":"for an isolated division unless it is a compile-time constant visible","type":"text"},{"text":" ","type":"text"},{"text":"to the compiler, but if you are dividing many values by a single","type":"text"},{"text":" ","type":"text"},{"text":"denominator, this will often be a significant performance win.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Note that this will slightly perturb results for fields with approximate","type":"text"},{"text":" ","type":"text"},{"text":"arithmetic, such as real or complex types–using a normal division","type":"text"},{"text":" ","type":"text"},{"text":"is generally more accurate–but no catastrophic loss of accuracy will","type":"text"},{"text":" ","type":"text"},{"text":"result. For fields with exact arithmetic, the results are necessarily","type":"text"},{"text":" ","type":"text"},{"text":"identical.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"A typical use case looks something like this:","type":"text"}]},{"code":["func divide<T: AlgebraicField>(data: [T], by divisor: T) -> [T] {","  \/\/ If divisor is well-scaled, multiply by reciprocal.","  if let recip = divisor.reciprocal {","    return data.map { $0 * recip }","  }","  \/\/ Fallback on using division.","  return data.map { $0 \/ divisor }","}"],"type":"codeListing","syntax":null}],"kind":"content"}],"references":{"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField/reciprocal-6sp2m":{"title":"reciprocal","url":"\/documentation\/numerics\/algebraicfield\/reciprocal-6sp2m","identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-6sp2m","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"?"}],"abstract":[{"text":"The (approximate) reciprocal (multiplicative inverse) of this number,","type":"text"},{"text":" ","type":"text"},{"text":"if it is representable.","type":"text"}],"role":"symbol","type":"topic","kind":"symbol"},"doc://com.wvabrinskas.Neuron/documentation/Numerics":{"role":"collection","type":"topic","url":"\/documentation\/numerics","kind":"symbol","identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics","abstract":[],"title":"Numerics"},"https://en.wikipedia.org/wiki/Field_(mathematics)":{"title":"field","type":"link","url":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","identifier":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","titleInlineContent":[{"text":"field","type":"text"}]},"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField":{"kind":"symbol","url":"\/documentation\/numerics\/algebraicfield","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AlgebraicField"}],"identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField","title":"AlgebraicField","type":"topic","role":"symbol","abstract":[{"text":"A type modeling an algebraic ","type":"text"},{"isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","type":"reference"},{"type":"text","text":". Refines the "},{"type":"codeVoice","code":"SignedNumeric"},{"type":"text","text":" protocol,"},{"type":"text","text":" "},{"text":"adding division.","type":"text"}],"navigatorTitle":[{"text":"AlgebraicField","kind":"identifier"}]}}}