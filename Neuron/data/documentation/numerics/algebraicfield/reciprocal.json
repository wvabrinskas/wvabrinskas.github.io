{"hierarchy":{"paths":[["doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics","doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField"]]},"abstract":[{"type":"text","text":"The (approximate) reciprocal (multiplicative inverse) of this number,"},{"type":"text","text":" "},{"type":"text","text":"if it is representable."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/numerics\/algebraicfield\/reciprocal"]}],"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"defaultImplementationsSections":[{"anchor":"AlgebraicField-Implementations","identifiers":["doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-5zww8","doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-5zww8","doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-6sp2m","doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-6sp2m"],"title":"AlgebraicField Implementations"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal"},"kind":"symbol","metadata":{"externalID":"s:10RealModule14AlgebraicFieldP10reciprocalxSgvp","required":true,"modules":[{"name":"RealModule"}],"roleHeading":"Instance Property","title":"reciprocal","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"reciprocal","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Self","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"role":"symbol","symbolKind":"property"},"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"? { "},{"kind":"keyword","text":"get"},{"kind":"text","text":" }"}],"platforms":["macOS"]}],"kind":"declarations"},{"kind":"content","content":[{"text":"Discussion","anchor":"discussion","type":"heading","level":2},{"inlineContent":[{"text":"If reciprocal is non-nil, you can replace division by self with","type":"text"},{"text":" ","type":"text"},{"text":"multiplication by reciprocal and either get exact the same result","type":"text"},{"text":" ","type":"text"},{"text":"(for finite fields) or approximately the same result up to a typical","type":"text"},{"text":" ","type":"text"},{"text":"rounding error (for floating-point formats).","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"If self is zero and the type has no representation for infinity (as","type":"text"},{"type":"text","text":" "},{"type":"text","text":"in a typical finite field implementation), or if a reciprocal would"},{"type":"text","text":" "},{"type":"text","text":"overflow or underflow such that it cannot be accurately represented,"},{"text":" ","type":"text"},{"text":"the result is nil.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Note that ","type":"text"},{"code":".zero.reciprocal","type":"codeVoice"},{"text":", somewhat surprisingly, is ","type":"text"},{"inlineContent":[{"text":"not","type":"text"}],"type":"emphasis"},{"text":" nil","type":"text"},{"text":" ","type":"text"},{"text":"for ","type":"text"},{"code":"Real","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"Complex","type":"codeVoice"},{"text":" types, because these types have an","type":"text"},{"text":" ","type":"text"},{"code":".infinity","type":"codeVoice"},{"text":" value that acts as the reciprocal of ","type":"text"},{"code":".zero","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"If ","type":"text"},{"code":"b.reciprocal","type":"codeVoice"},{"text":" is non-nil, you may be able to replace division by ","type":"text"},{"code":"b","type":"codeVoice"},{"text":" ","type":"text"},{"text":"with multiplication by this value. It is not advantageous to do this","type":"text"},{"text":" ","type":"text"},{"text":"for an isolated division unless it is a compile-time constant visible","type":"text"},{"text":" ","type":"text"},{"text":"to the compiler, but if you are dividing many values by a single","type":"text"},{"text":" ","type":"text"},{"text":"denominator, this will often be a significant performance win.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Note that this will slightly perturb results for fields with approximate","type":"text"},{"text":" ","type":"text"},{"text":"arithmetic, such as real or complex types–using a normal division","type":"text"},{"text":" ","type":"text"},{"text":"is generally more accurate–but no catastrophic loss of accuracy will","type":"text"},{"text":" ","type":"text"},{"text":"result. For fields with exact arithmetic, the results are necessarily","type":"text"},{"text":" ","type":"text"},{"text":"identical.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"A typical use case looks something like this:","type":"text"}]},{"type":"codeListing","syntax":null,"code":["func divide<T: AlgebraicField>(data: [T], by divisor: T) -> [T] {","  \/\/ If divisor is well-scaled, multiply by reciprocal.","  if let recip = divisor.reciprocal {","    return data.map { $0 * recip }","  }","  \/\/ Fallback on using division.","  return data.map { $0 \/ divisor }","}"]}]}],"references":{"https://en.wikipedia.org/wiki/Field_(mathematics)":{"type":"link","url":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","identifier":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","titleInlineContent":[{"type":"text","text":"field"}],"title":"field"},"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField/reciprocal":{"kind":"symbol","url":"\/documentation\/numerics\/algebraicfield\/reciprocal","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"?"}],"identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal","title":"reciprocal","required":true,"type":"topic","role":"symbol","abstract":[{"type":"text","text":"The (approximate) reciprocal (multiplicative inverse) of this number,"},{"type":"text","text":" "},{"type":"text","text":"if it is representable."}],"defaultImplementations":4},"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField/reciprocal-5zww8":{"role":"symbol","type":"topic","url":"\/documentation\/numerics\/algebraicfield\/reciprocal-5zww8","kind":"symbol","identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-5zww8","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"text":"Self","kind":"typeIdentifier"},{"kind":"text","text":"?"}],"title":"reciprocal","abstract":[{"type":"text","text":"The (approximate) reciprocal (multiplicative inverse) of this number,"},{"type":"text","text":" "},{"type":"text","text":"if it is representable."}]},"doc://com.wvabrinskas.Neuron/documentation/Numerics":{"role":"collection","type":"topic","url":"\/documentation\/numerics","kind":"symbol","identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics","abstract":[],"title":"Numerics"},"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField":{"kind":"symbol","url":"\/documentation\/numerics\/algebraicfield","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AlgebraicField"}],"identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField","title":"AlgebraicField","type":"topic","role":"symbol","abstract":[{"text":"A type modeling an algebraic ","type":"text"},{"isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/Field_(mathematics)","type":"reference"},{"type":"text","text":". Refines the "},{"type":"codeVoice","code":"SignedNumeric"},{"type":"text","text":" protocol,"},{"type":"text","text":" "},{"text":"adding division.","type":"text"}],"navigatorTitle":[{"text":"AlgebraicField","kind":"identifier"}]},"doc://com.wvabrinskas.Neuron/documentation/Numerics/AlgebraicField/reciprocal-6sp2m":{"title":"reciprocal","url":"\/documentation\/numerics\/algebraicfield\/reciprocal-6sp2m","identifier":"doc:\/\/com.wvabrinskas.Neuron\/documentation\/Numerics\/AlgebraicField\/reciprocal-6sp2m","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"reciprocal"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"?"}],"abstract":[{"text":"The (approximate) reciprocal (multiplicative inverse) of this number,","type":"text"},{"text":" ","type":"text"},{"text":"if it is representable.","type":"text"}],"role":"symbol","type":"topic","kind":"symbol"}}}